{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';class ApiService{constructor(){this.client=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});// Response interceptor to handle errors globally\nthis.client.interceptors.response.use(response=>response.data,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){// Token expired or invalid\nlocalStorage.removeItem('token');window.location.href='/login';}return Promise.reject(error);});}setAuthToken(token){if(token){this.client.defaults.headers.common['Authorization']=\"Bearer \".concat(token);}else{delete this.client.defaults.headers.common['Authorization'];}}// Auth endpoints\nasync login(email,password){return this.client.post('/auth/login',{email,password});}async getCurrentUser(){return this.client.get('/auth/me');}// Notes endpoints\nasync getNotes(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return this.client.get('/notes',{params});}async getNote(id){return this.client.get(\"/notes/\".concat(id));}async createNote(data){return this.client.post('/notes',data);}async updateNote(id,data){return this.client.put(\"/notes/\".concat(id),data);}async deleteNote(id){return this.client.delete(\"/notes/\".concat(id));}// Tenant endpoints\nasync getTenantStats(){return this.client.get('/tenants/stats');}async upgradeTenant(slug){return this.client.post(\"/tenants/\".concat(slug,\"/upgrade\"));}// Health check\nasync healthCheck(){return this.client.get('/health');}}const api=new ApiService();export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","constructor","client","create","baseURL","headers","interceptors","response","use","data","error","_error$response","status","localStorage","removeItem","window","location","href","Promise","reject","setAuthToken","token","defaults","common","concat","login","email","password","post","getCurrentUser","get","getNotes","params","arguments","length","undefined","getNote","id","createNote","updateNote","put","deleteNote","delete","getTenantStats","upgradeTenant","slug","healthCheck","api"],"sources":["D:/Projects/notes/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\nclass ApiService {\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n\r\n    // Response interceptor to handle errors globally\r\n    this.client.interceptors.response.use(\r\n      (response) => response.data,\r\n      (error) => {\r\n        if (error.response?.status === 401) {\r\n          // Token expired or invalid\r\n          localStorage.removeItem('token');\r\n          window.location.href = '/login';\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  setAuthToken(token) {\r\n    if (token) {\r\n      this.client.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    } else {\r\n      delete this.client.defaults.headers.common['Authorization'];\r\n    }\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(email, password) {\r\n    return this.client.post('/auth/login', { email, password });\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    return this.client.get('/auth/me');\r\n  }\r\n\r\n  // Notes endpoints\r\n  async getNotes(params = {}) {\r\n    return this.client.get('/notes', { params });\r\n  }\r\n\r\n  async getNote(id) {\r\n    return this.client.get(`/notes/${id}`);\r\n  }\r\n\r\n  async createNote(data) {\r\n    return this.client.post('/notes', data);\r\n  }\r\n\r\n  async updateNote(id, data) {\r\n    return this.client.put(`/notes/${id}`, data);\r\n  }\r\n\r\n  async deleteNote(id) {\r\n    return this.client.delete(`/notes/${id}`);\r\n  }\r\n\r\n  // Tenant endpoints\r\n  async getTenantStats() {\r\n    return this.client.get('/tenants/stats');\r\n  }\r\n\r\n  async upgradeTenant(slug) {\r\n    return this.client.post(`/tenants/${slug}/upgrade`);\r\n  }\r\n\r\n  // Health check\r\n  async healthCheck() {\r\n    return this.client.get('/health');\r\n  }\r\n}\r\n\r\nconst api = new ApiService();\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
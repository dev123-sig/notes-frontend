{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNotification}from'../contexts/NotificationContext';import{useAuth}from'../contexts/AuthContext';import api from'../services/api';import NoteForm from'./NoteForm';import{PlusIcon,PencilIcon,TrashIcon,ExclamationTriangleIcon,MagnifyingGlassIcon,DocumentTextIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const NotesManager=_ref=>{let{tenantStats,onStatsUpdate}=_ref;const[notes,setNotes]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[showForm,setShowForm]=useState(false);const[editingNote,setEditingNote]=useState(null);const[deletingNote,setDeletingNote]=useState(null);const{showSuccess,showError}=useNotification();const{user}=useAuth();useEffect(()=>{fetchNotes();},[searchTerm]);const fetchNotes=async()=>{try{setLoading(true);const params=searchTerm?{search:searchTerm}:{};const response=await api.getNotes(params);if(response.success){setNotes(response.data.notes);}}catch(error){showError('Failed to fetch notes');}finally{setLoading(false);}};const handleCreateNote=()=>{if((tenantStats===null||tenantStats===void 0?void 0:tenantStats.tenant.plan)==='free'&&(tenantStats===null||tenantStats===void 0?void 0:tenantStats.noteCount)>=3){showError('Note limit reached. Upgrade to Pro plan for unlimited notes.');return;}setEditingNote(null);setShowForm(true);};const handleEditNote=note=>{setEditingNote(note);setShowForm(true);};const handleFormSubmit=async noteData=>{try{let response;if(editingNote){response=await api.updateNote(editingNote._id,noteData);showSuccess('Note updated successfully');}else{response=await api.createNote(noteData);showSuccess('Note created successfully');}if(response.success){fetchNotes();onStatsUpdate&&onStatsUpdate();setShowForm(false);setEditingNote(null);}}catch(error){var _error$response,_error$response$data;const message=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to save note';showError(message);}};const handleDeleteNote=async noteId=>{try{const response=await api.deleteNote(noteId);if(response.success){showSuccess('Note deleted successfully');fetchNotes();onStatsUpdate&&onStatsUpdate();setDeletingNote(null);}}catch(error){showError('Failed to delete note');}};const canCreateMore=tenantStats===null||tenantStats===void 0?void 0:tenantStats.canCreateMore;const isAtLimit=(tenantStats===null||tenantStats===void 0?void 0:tenantStats.tenant.plan)==='free'&&(tenantStats===null||tenantStats===void 0?void 0:tenantStats.noteCount)>=3;if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:tenantStats&&/*#__PURE__*/_jsxs(_Fragment,{children:[tenantStats.noteCount,\" of \",tenantStats.noteLimit||'∞',\" notes used\",isAtLimit&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-red-600 font-medium\",children:\"\\u2022 Limit reached\"})]})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreateNote,disabled:isAtLimit,className:\"btn-primary \".concat(isAtLimit?'opacity-50 cursor-not-allowed':''),children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-2\"}),\"New Note\"]})]}),isAtLimit&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-yellow-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-yellow-800\",children:\"Note limit reached\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-yellow-700\",children:[\"You've reached the maximum of 3 notes on the Free plan.\",(user===null||user===void 0?void 0:user.role)==='admin'?/*#__PURE__*/_jsx(\"span\",{children:\" Upgrade to Pro for unlimited notes.\"}):/*#__PURE__*/_jsx(\"span\",{children:\" Contact your admin to upgrade to Pro plan.\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search notes...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"input-field pl-10\"})]}),notes.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No notes found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:searchTerm?'Try a different search term.':'Get started by creating a new note.'}),!searchTerm&&!isAtLimit&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreateNote,className:\"btn-primary\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-5 w-5 mr-2\"}),\"New Note\"]})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\",children:notes.map(note=>/*#__PURE__*/_jsxs(\"div\",{className:\"card hover:shadow-lg transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 truncate\",children:note.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:[\"Created by \",note.userId.email]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-400\",children:new Date(note.createdAt).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 ml-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditNote(note),className:\"p-1 text-gray-400 hover:text-blue-600 transition-colors\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDeletingNote(note),className:\"p-1 text-gray-400 hover:text-red-600 transition-colors\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 line-clamp-3\",children:note.content})})]},note._id))}),showForm&&/*#__PURE__*/_jsx(NoteForm,{note:editingNote,onSubmit:handleFormSubmit,onCancel:()=>{setShowForm(false);setEditingNote(null);}}),deletingNote&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"mx-auto h-12 w-12 text-red-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mt-4\",children:\"Delete Note\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:[\"Are you sure you want to delete \\\"\",deletingNote.title,\"\\\"? This action cannot be undone.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDeletingNote(null),className:\"btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteNote(deletingNote._id),className:\"btn-danger\",children:\"Delete\"})]})]})})})]});};export default NotesManager;","map":{"version":3,"names":["React","useState","useEffect","useNotification","useAuth","api","NoteForm","PlusIcon","PencilIcon","TrashIcon","ExclamationTriangleIcon","MagnifyingGlassIcon","DocumentTextIcon","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","NotesManager","_ref","tenantStats","onStatsUpdate","notes","setNotes","loading","setLoading","searchTerm","setSearchTerm","showForm","setShowForm","editingNote","setEditingNote","deletingNote","setDeletingNote","showSuccess","showError","user","fetchNotes","params","search","response","getNotes","success","data","error","handleCreateNote","tenant","plan","noteCount","handleEditNote","note","handleFormSubmit","noteData","updateNote","_id","createNote","_error$response","_error$response$data","message","handleDeleteNote","noteId","deleteNote","canCreateMore","isAtLimit","className","children","noteLimit","onClick","disabled","concat","role","type","placeholder","value","onChange","e","target","length","map","title","userId","email","Date","createdAt","toLocaleDateString","content","onSubmit","onCancel"],"sources":["D:/Projects/notes/client/src/components/NotesManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNotification } from '../contexts/NotificationContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport api from '../services/api';\r\nimport NoteForm from './NoteForm';\r\nimport { \r\n  PlusIcon, \r\n  PencilIcon, \r\n  TrashIcon, \r\n  ExclamationTriangleIcon,\r\n  MagnifyingGlassIcon,\r\n  DocumentTextIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst NotesManager = ({ tenantStats, onStatsUpdate }) => {\r\n  const [notes, setNotes] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingNote, setEditingNote] = useState(null);\r\n  const [deletingNote, setDeletingNote] = useState(null);\r\n  \r\n  const { showSuccess, showError } = useNotification();\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    fetchNotes();\r\n  }, [searchTerm]);\r\n\r\n  const fetchNotes = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = searchTerm ? { search: searchTerm } : {};\r\n      const response = await api.getNotes(params);\r\n      \r\n      if (response.success) {\r\n        setNotes(response.data.notes);\r\n      }\r\n    } catch (error) {\r\n      showError('Failed to fetch notes');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateNote = () => {\r\n    if (tenantStats?.tenant.plan === 'free' && tenantStats?.noteCount >= 3) {\r\n      showError('Note limit reached. Upgrade to Pro plan for unlimited notes.');\r\n      return;\r\n    }\r\n    setEditingNote(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEditNote = (note) => {\r\n    setEditingNote(note);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleFormSubmit = async (noteData) => {\r\n    try {\r\n      let response;\r\n      if (editingNote) {\r\n        response = await api.updateNote(editingNote._id, noteData);\r\n        showSuccess('Note updated successfully');\r\n      } else {\r\n        response = await api.createNote(noteData);\r\n        showSuccess('Note created successfully');\r\n      }\r\n      \r\n      if (response.success) {\r\n        fetchNotes();\r\n        onStatsUpdate && onStatsUpdate();\r\n        setShowForm(false);\r\n        setEditingNote(null);\r\n      }\r\n    } catch (error) {\r\n      const message = error.response?.data?.message || 'Failed to save note';\r\n      showError(message);\r\n    }\r\n  };\r\n\r\n  const handleDeleteNote = async (noteId) => {\r\n    try {\r\n      const response = await api.deleteNote(noteId);\r\n      if (response.success) {\r\n        showSuccess('Note deleted successfully');\r\n        fetchNotes();\r\n        onStatsUpdate && onStatsUpdate();\r\n        setDeletingNote(null);\r\n      }\r\n    } catch (error) {\r\n      showError('Failed to delete note');\r\n    }\r\n  };\r\n\r\n  const canCreateMore = tenantStats?.canCreateMore;\r\n  const isAtLimit = tenantStats?.tenant.plan === 'free' && tenantStats?.noteCount >= 3;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Your Notes</h2>\r\n          <p className=\"text-sm text-gray-600\">\r\n            {tenantStats && (\r\n              <>\r\n                {tenantStats.noteCount} of {tenantStats.noteLimit || '∞'} notes used\r\n                {isAtLimit && (\r\n                  <span className=\"ml-2 text-red-600 font-medium\">\r\n                    • Limit reached\r\n                  </span>\r\n                )}\r\n              </>\r\n            )}\r\n          </p>\r\n        </div>\r\n        \r\n        <button\r\n          onClick={handleCreateNote}\r\n          disabled={isAtLimit}\r\n          className={`btn-primary ${isAtLimit ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n        >\r\n          <PlusIcon className=\"h-5 w-5 mr-2\" />\r\n          New Note\r\n        </button>\r\n      </div>\r\n\r\n      {/* Upgrade warning for free plan */}\r\n      {isAtLimit && (\r\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-4\">\r\n          <div className=\"flex\">\r\n            <ExclamationTriangleIcon className=\"h-5 w-5 text-yellow-400\" />\r\n            <div className=\"ml-3\">\r\n              <h3 className=\"text-sm font-medium text-yellow-800\">\r\n                Note limit reached\r\n              </h3>\r\n              <p className=\"mt-1 text-sm text-yellow-700\">\r\n                You've reached the maximum of 3 notes on the Free plan. \r\n                {user?.role === 'admin' ? (\r\n                  <span> Upgrade to Pro for unlimited notes.</span>\r\n                ) : (\r\n                  <span> Contact your admin to upgrade to Pro plan.</span>\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Search */}\r\n      <div className=\"relative\">\r\n        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n          <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" />\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search notes...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"input-field pl-10\"\r\n        />\r\n      </div>\r\n\r\n      {/* Notes List */}\r\n      {notes.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <DocumentTextIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No notes found</h3>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            {searchTerm ? 'Try a different search term.' : 'Get started by creating a new note.'}\r\n          </p>\r\n          {!searchTerm && !isAtLimit && (\r\n            <div className=\"mt-6\">\r\n              <button onClick={handleCreateNote} className=\"btn-primary\">\r\n                <PlusIcon className=\"h-5 w-5 mr-2\" />\r\n                New Note\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n          {notes.map((note) => (\r\n            <div key={note._id} className=\"card hover:shadow-lg transition-shadow\">\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 truncate\">\r\n                    {note.title}\r\n                  </h3>\r\n                  <p className=\"mt-1 text-sm text-gray-500\">\r\n                    Created by {note.userId.email}\r\n                  </p>\r\n                  <p className=\"mt-1 text-xs text-gray-400\">\r\n                    {new Date(note.createdAt).toLocaleDateString()}\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2 ml-4\">\r\n                  <button\r\n                    onClick={() => handleEditNote(note)}\r\n                    className=\"p-1 text-gray-400 hover:text-blue-600 transition-colors\"\r\n                  >\r\n                    <PencilIcon className=\"h-4 w-4\" />\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setDeletingNote(note)}\r\n                    className=\"p-1 text-gray-400 hover:text-red-600 transition-colors\"\r\n                  >\r\n                    <TrashIcon className=\"h-4 w-4\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3\">\r\n                <p className=\"text-sm text-gray-600 line-clamp-3\">\r\n                  {note.content}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Note Form Modal */}\r\n      {showForm && (\r\n        <NoteForm\r\n          note={editingNote}\r\n          onSubmit={handleFormSubmit}\r\n          onCancel={() => {\r\n            setShowForm(false);\r\n            setEditingNote(null);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {deletingNote && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3 text-center\">\r\n              <ExclamationTriangleIcon className=\"mx-auto h-12 w-12 text-red-600\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 mt-4\">Delete Note</h3>\r\n              <p className=\"text-sm text-gray-500 mt-2\">\r\n                Are you sure you want to delete \"{deletingNote.title}\"? This action cannot be undone.\r\n              </p>\r\n              <div className=\"flex justify-center space-x-3 mt-6\">\r\n                <button\r\n                  onClick={() => setDeletingNote(null)}\r\n                  className=\"btn-secondary\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={() => handleDeleteNote(deletingNote._id)}\r\n                  className=\"btn-danger\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotesManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nclass ApiService {\n  constructor() {\n    this.client = axios.create({\n      baseURL: API_BASE_URL,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n\n    // Response interceptor to handle errors globally\n    this.client.interceptors.response.use(response => response.data, error => {\n      var _error$response;\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        // Token expired or invalid\n        localStorage.removeItem('token');\n        window.location.href = '/login';\n      }\n      return Promise.reject(error);\n    });\n  }\n  setAuthToken(token) {\n    if (token) {\n      this.client.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    } else {\n      delete this.client.defaults.headers.common['Authorization'];\n    }\n  }\n\n  // Auth endpoints\n  async login(email, password) {\n    return this.client.post('/auth/login', {\n      email,\n      password\n    });\n  }\n  async getCurrentUser() {\n    return this.client.get('/auth/me');\n  }\n\n  // Notes endpoints\n  async getNotes(params = {}) {\n    return this.client.get('/notes', {\n      params\n    });\n  }\n  async getNote(id) {\n    return this.client.get(`/notes/${id}`);\n  }\n  async createNote(data) {\n    return this.client.post('/notes', data);\n  }\n  async updateNote(id, data) {\n    return this.client.put(`/notes/${id}`, data);\n  }\n  async deleteNote(id) {\n    return this.client.delete(`/notes/${id}`);\n  }\n\n  // Tenant endpoints\n  async getTenantStats() {\n    return this.client.get('/tenants/stats');\n  }\n  async upgradeTenant(slug) {\n    return this.client.post(`/tenants/${slug}/upgrade`);\n  }\n\n  // User invitation endpoints\n  async inviteUser(email, role) {\n    return this.client.post('/users/invite', {\n      email,\n      role\n    });\n  }\n  async getInvitations() {\n    return this.client.get('/users/invitations');\n  }\n  async cancelInvitation(invitationId) {\n    return this.client.delete(`/users/invitations/${invitationId}`);\n  }\n  async validateInvitationToken(token) {\n    return this.client.get(`/users/invitations/validate/${token}`);\n  }\n  async acceptInvitation(token, userData) {\n    return this.client.post(`/users/invitations/accept/${token}`, userData);\n  }\n\n  // Health check\n  async healthCheck() {\n    return this.client.get('/health');\n  }\n}\nconst api = new ApiService();\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","constructor","client","create","baseURL","headers","interceptors","response","use","data","error","_error$response","status","localStorage","removeItem","window","location","href","Promise","reject","setAuthToken","token","defaults","common","login","email","password","post","getCurrentUser","get","getNotes","params","getNote","id","createNote","updateNote","put","deleteNote","delete","getTenantStats","upgradeTenant","slug","inviteUser","role","getInvitations","cancelInvitation","invitationId","validateInvitationToken","acceptInvitation","userData","healthCheck","api"],"sources":["D:/Projects/notes/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\nclass ApiService {\r\n  constructor() {\r\n    this.client = axios.create({\r\n      baseURL: API_BASE_URL,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n\r\n    // Response interceptor to handle errors globally\r\n    this.client.interceptors.response.use(\r\n      (response) => response.data,\r\n      (error) => {\r\n        if (error.response?.status === 401) {\r\n          // Token expired or invalid\r\n          localStorage.removeItem('token');\r\n          window.location.href = '/login';\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  setAuthToken(token) {\r\n    if (token) {\r\n      this.client.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    } else {\r\n      delete this.client.defaults.headers.common['Authorization'];\r\n    }\r\n  }\r\n\r\n  // Auth endpoints\r\n  async login(email, password) {\r\n    return this.client.post('/auth/login', { email, password });\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    return this.client.get('/auth/me');\r\n  }\r\n\r\n  // Notes endpoints\r\n  async getNotes(params = {}) {\r\n    return this.client.get('/notes', { params });\r\n  }\r\n\r\n  async getNote(id) {\r\n    return this.client.get(`/notes/${id}`);\r\n  }\r\n\r\n  async createNote(data) {\r\n    return this.client.post('/notes', data);\r\n  }\r\n\r\n  async updateNote(id, data) {\r\n    return this.client.put(`/notes/${id}`, data);\r\n  }\r\n\r\n  async deleteNote(id) {\r\n    return this.client.delete(`/notes/${id}`);\r\n  }\r\n\r\n  // Tenant endpoints\r\n  async getTenantStats() {\r\n    return this.client.get('/tenants/stats');\r\n  }\r\n\r\n  async upgradeTenant(slug) {\r\n    return this.client.post(`/tenants/${slug}/upgrade`);\r\n  }\r\n\r\n  // User invitation endpoints\r\n  async inviteUser(email, role) {\r\n    return this.client.post('/users/invite', { email, role });\r\n  }\r\n\r\n  async getInvitations() {\r\n    return this.client.get('/users/invitations');\r\n  }\r\n\r\n  async cancelInvitation(invitationId) {\r\n    return this.client.delete(`/users/invitations/${invitationId}`);\r\n  }\r\n\r\n  async validateInvitationToken(token) {\r\n    return this.client.get(`/users/invitations/validate/${token}`);\r\n  }\r\n\r\n  async acceptInvitation(token, userData) {\r\n    return this.client.post(`/users/invitations/accept/${token}`, userData);\r\n  }\r\n\r\n  // Health check\r\n  async healthCheck() {\r\n    return this.client.get('/health');\r\n  }\r\n}\r\n\r\nconst api = new ApiService();\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}